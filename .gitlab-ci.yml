stages:
  - install      # Install dependencies
  - prettier     # Run Prettier Check
  - eslint       # Run ESLint Fix
  - test         # Run Tests
  - build_android        # Build Android APK

install_dependencies:
  stage: install
  image: node:20
  script:
    - echo "ğŸ“¦ Installing dependencies..."
    - npm install
    - echo "âœ… Dependencies installed!"

prettier_check:
  stage: prettier
  image: node:20
  script:
    - echo "ğŸ“¦ prettier checking..."
    - npm run prettier:check
    - echo "âœ… prettier checked!"

eslint_check:
  stage: eslint
  image: node:20
  script:
    - echo "ğŸ“¦ Installing dependencies..."
    - npm ci        # or npm install
    - echo "ğŸ“¦ Running ESLint..."
    - npm run lint:fix
    - echo "âœ… ESLint done!"   

test_check:
  stage: test
  image: node:20
  script:
    - echo "ğŸ“¦ test checking..."
    - npm run test
    - echo "âœ… test checked!"

build_android_check:
  stage: build_android
  image: node:20
  script:
    - echo "ğŸ“¦ Building Android Debug APK..."
    - cd android
    - ./gradlew assembleDebug
    - echo "âœ… Debug APK built!"
        
